language: node_js
os: linux
node_js:
- '9'
script: echo "Running jobs Install, Build & Test against $(node -v) ..."
jobs:
  include:
  - stage: Install
    script:
    - echo "Installing needed modules"
    - npm install
  - stage: Build
    script:
    - echo "Running build script ..."
    - npm run-script build
  - stage: Test
    script:
    - echo "Testing branch - $(branch) ..."
    - npm test
  - stage: Merge to master
    if: "(type = pull_request)"
    script:
    - echo "Running github auto merge process for:" $TRAVIS_COMMIT
    - bash ./merge_script.sh
env:
  global:
  - secure: FhatVZxX9I3dW8T7rtuQs3TRbaOw/kULq/h1ySAUuRiclptdvYn9Sj8QVdN6UoYCDn5EqCTomVbhIuY4idCgnbyaXOj6i+WyjM+Zx2zE3QLzOu4aoO9F6WwBAGiBpA6GDtStHLiKjLreNhEp8lVnuG1dFCV0gqmCnDn4iY1AY6rXkQ0RZYreKi0SDBZH9CX5VOfNU1QK0NRQ6VoLggLQeNlfBMORnW6QwUJiKUMb0cmqPVXLZbUlHswFHjtURl9moy+XHifTAktld1wgTdMpTj/FYkclpfQGY8pBOdv2bWMpkGImjnNKSabvpzfhn0XMRxCjh2iyQCMffXMNr9yoJFGZkqGisnM5/TdrGHgT3b5DbUj6/xAkkv6wQaYeZNGpQd9XbnFYi8cbY0KGE8PkngtN9fRuLi9Leow3PnB+bhwv9BFA2upv+E/tBWFDO/Qv+ptFIGwJbu6HHBXZMolp38IPGaVomYv8drR76q+y2/XUnxUUXAeqMlDnuK1kAwcCyG1/H4OMzrYoygyXjliwjLFw4XOjU/fZHQal2m15W7+EhMWXJYzFvA7Jz7sDj2xdLFXcQGe/k0thZ5vqH8gBVB8zVWSNpdwn8aixb667WdXVspNMygD8tbR/vcx5fQ6gkd+Y2NfeB8Z0pZI/FVMVCjgG8pkY6726nQVrV4/QfGg=
  - secure: EFfomOpbcD3BUj4rUmukpyONC/vlMWxzeIwXMxSczwy4sYVJxNgLsbI+jEuuXk3/KSf5Efp/2VXe9XbC7VC7JLRweFyBfWypdHpVJYvB8kFEa2cC08G/j8E35U6sxVZQFCsjvrS9Eyu/C59if9RX79RPfPA/52aQgvU4sXA0oI39P3b8TEN2VMwpeisnh8or5px5akT8lbJuUL0mWFtZSoju9EsgMiTM2C0cTkJHaeT5uWBb30uDeuxdfsuA5KHHCfsN6dAb6CkfiwZCZGzsXquqbgHKnyWRg8hhTyd9jBR5L5MwaMPSD7/9Fir3/K4z0yMlRtdGUudKO3/9tUqWjzk6WzJlCR2J6QDpe48PM+AGOPqmLpwYzOVitf17TwRvp+FgDfUrtfb33AK/fSiH3XIQAcj0slRchjiRTchmO+la/vbSua3fMNUpVPBvH7ftZrVr8IBxR4tf9mUJXCANlTUsWB9YbFcH/N8ijdTvNuNszk4CFJHGL9mSjTY+7/Bwwo9UAfIQaZeTClDv5Vyn96hyoQSlSy2ks6rksugllsK4feRBKB2/2PPlug+HFb57emJjDAZ+lOxoux4jnkQ9OAB2SDpNOIiSSoflimD3nKMZIPdhJMYbqyRM26PVsL/xe1SmkwOWbukbl2yjSqhMINLpArFVYv1OEcozgUSmUog=
  - secure: jM5bDTA+0t8bYdBoP3YW0F7ixiNu3MBJNps651qOvYTbtgE0V0gll6+OV2e/a+y2Ouc/HzXkmyf/OnBTez6GzXqpAWSkC7C1F2Xyrt8TmvAHsM5UNg+l69hjls/JniEwv6I4OHnQiOhaJGaKBo9XLuuNSLc+CqzO/TL8i+1YWluYuMzZHUYO17rhNeXmCpuv/BxyliqADB7tNsnX8xTDdOlk5qtDoVnd7cDCg3x3Gz5nFRfqYCXHdHR0r6M9hsVJzI6SFYl5H7ns45Kk/Dh8ZOVrEQYkiqa/FaHHc4vXWJ7ltZcGVW19U32kq02Uvx+YffgbOjD6eY85yWFYE36bJyAyHDBa1os2Am42EPvOEfeVdFGSG46BJJ6BmDn+dsh59xWHNvQvrco28z3HzBvHK9i2ablfnpAsVX8BC1Do1ppZNNCUGz7s8+6oij56fskwHBELekN9MW4hkFyK2fdbhD/r3LuOZ2l4JnF3vjCoD1ps7Tj2qC3j9hSZsV6hzrMSw+UQA1Tl2sCtV4JIn1T6ZWaliZ5gZOV7v0ISE1FxQJYYXWm3ugbKrlNaS55Tq+l3PjArPEihgABGtK0EZVl7wiWH2pAdwQFk3BxFsFDrbyfMA+8BNcKm8zbsJI3xVa2C5FKbg45gQXJx9XEYH5bNVixJpmJS9ZfoVqpJxciSArw=
  - secure: r+kCu7tJcaX4XYqEOurVi36/WjS0SfeCfwY6Lc9XPHr0uQEADufD1kYngoSsxSkOcOjL3gZXqRWoKcQ0CZgse/PfRMdRaNRCbpm98oO3sY1WrHzXOIl04IoUl9miI1+MZbAG2m97PS78NfdnUqlDR/su5Kzc01XkE3ljAFxJTqnfo23dTPyV4mLcwZ7XGfTH5+cyWjFy1xiFXDMyj1IAJJ55TL07NlE4RhtR8k5YRfUBFqUjUWjCKSCEtifSpwhrskL2vW+l2qJcutIXN5w8VzXO8MNxZNU/gfUOU0tOFA6hHLFGsH5xqOYnt0NeKf/8grsL1rvHRimmbuAtO4pEAduJGMWMwiGpYG+v4t0YJlhFkqZL9NeJXsgctd/RLXTKPRMrIcVPgiXqu1Dcp7MKxxw3v4aoWHJFiZrmA3JhfQaGtotipqLBtw7rKVm/YEWNxCuVFDAzrT9q8H8ChuRtBczVFM7eq4AaetLaexqmidH0msjGO0Py1s59gQiSMIltZZxJ7LkBpopS2rscPecaggyBBwq6WWujAGhRNRQMSPVq27vgdTP4pVs+iuSgtoDZxwQ6jy6Kw7Hgw4CRSM5EZRR31+xzLRbuGRvc1YP/DNFmttnytGOu2ve/ZjWcnXs2AnKIUeD3mrRQU6Lg18ppTc0VbyI1u799c/V/SB3XKuQ=
  - secure: shOuHGDZdDX0ucTORHRixjWvZwJvTEB/l7msdpf2mfpU7P/mkrfm0Wc2AqjguMgpJBqc6czrODF9Atxyi+P3+7aXmDK4+XsXopTEnSlYRHDKn7g9bfe1LMDDWVMsXM/KbkuKpWvGk5BVVB7RYSwCvjRXD887drdlFBbQZtj0NQzaGLvU+UEpYZfRVFSjDFqzxPKrJ+cTVuxbu5J/tm/NNirCYUy+hF7GzCtY3U97PpVSPmdibU58KY5BAQe5HkpRJzBESx9uJS8K4CTnj1FLntTh4ojlAQgF3Qx4gij5vbkBk1gc8paIJKkbysjJeZ4IWSxy22MQhYfhI7UB296JAzzOhTdQEOQRTU+exU6Gb6qdoS/b+44gDhhw9YJl111NDj1C9pK0RDDMHGfQzVloN0i7LfSrgwoYgh2sAG271Ec+po2BtmxkbPLyM9c/8el/KvaJIgNzF/HtyOwsXO/+UCEMH7dIKFH01jM6YxxMO/AiinyLRhacJ3o/CwWtBcGroLssEX9P6XtBCB7rmW80lqLOGE1ReK5gs4hngbWbUvC2IVcF99vmVqG1IRS/TvA3Y68YA0fuWm38PMETOUNkvdMLQ1lC2gLCfeIyrVMWVq40BFakSSrX0tNd4rWzM52il9vD902/XcdrPv0ZAUudKNcrpJofTuyiCM6O3xc1hcg=
