language: node_js
os: linux
node_js:
- '9'
script: echo "Running jobs Install, Build & Test against $(node -v) ..."
jobs:
  include:
  - stage: Install
    script:
    - echo "Installing needed modules"
    - npm install
  - stage: Build
    script:
    - echo "Running build script ..."
    - npm run-script build
  - stage: Test
    script:
    - echo "Testing branch - $(branch) ..."
    - npm test
  - stage: Merge to master
    if: "(type = pull_request)"
    script:
    - echo "Running github auto merge process for:" $TRAVIS_COMMIT
    - bash ./merge_script.sh
env:
  global:
    secure: mq7gj+9SKhTYzVA5+oIbTzDnFhZhaeIXtu42168sZFYMbgnxRrKXSpzPq85MUFTzW8YJxKW8cR+niUNi+Gy7uV+clROCtuHU3uM+A++b910TRtELdWeowB6eai9kCLHQb1F83hOB4lPxh68e+SQZL3/COIkcNWjXyPckzq/g5SsfoHEfoVUlYrs839OeZs/ZPcfzK2Oscf0oS46aMDGxQtuYIYODhZmX3lFjeVfh5JKli3DWTYiUe1mdE7ebE9Gs3jVyJ18EQz+shxbU+s6ay4KrjeHokTsidApyQi+pVpMPX1Cpj5RdYnFWh/GleWwsSLLU8Xz+MyEz+U1/nvW/yK9ONA2ssrtl12EC55YYBNAV6/0P8x33yYImpXtmGR5bhpZE+Yia2XN9MpX/g/q9WTd2jENMBqpwPtiBQOVQelGcU+xO85EHeAfg/pCoVtskB+kX1muGiQQ37cbeaqneZzwer58SftUvvEDb8u2U0SN+Pb5B7fASjEtYcqIjrydm33ne7jsvjHbpurZIGhxRjUGPcY6v2tddtFFIj39A1uWMv+KQjivmlnLtJfVwvqWqVdlUHePOu3MM6Vt+XxWpbmZWixO5N0h//+dRxcWCB6cIDCnhvgyUZAAzj8rADm2lBuk9WoVdwyOU/1hU/rhjAsJEv1yBiFvz/CahwhKZZ5o=
